{{ if .IsHome }}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Blog",
    "name": {{ .Site.Params.header }},
    "url": {{ .Site.BaseURL }},
    "sameAs": [
      "https://twitter.com/{{ .Site.Params.twitter }}",
      "https://github.com/{{ .Site.Params.github }}",
      "https://t.me/s/{{ .Site.Params.telegram }}",
      "https://zhuanlan.zhihu.com/{{ .Site.Params.zhihu }}"
    ]
  }
  </script>
{{ end }}
{{ if or (eq .Section "self") (eq .Section "dev") (eq .Section "money") }}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      {{ if .IsPage }}
      "@type": "BlogPosting",
      {{ else }}
      "@type": "Blog",
      {{ end }}
      "headline": {{ .Title }},
      {{ if .Params.og_image }}
      "image": {{ .Params.og_image }},
      {{ else }}
      "image": {{ .Site.Params.logoImg | absURL }},
      {{ end }}
      "datePublished": {{ .PublishDate }},
      "dateModified": {{ .Lastmod }},
      "author": {
        "@type": "Person",
        "name": {{ .Site.Params.author }}
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": {{ .Permalink }}
      },
      "publisher": {
        "@type": "Organization",
        "name": {{ .Site.Params.header }},
        "logo": {
          "@type": "ImageObject",
          "url": {{ .Site.Params.logoImg | absURL }}
        }
      },
      "description": {{ .Params.description }},
      "keywords": [{{ range $i, $e := .Params.tags }}{{ if $i }}, {{ end }}{{ $e }}{{ end }}]
    }
    </script>
{{ end }}
{{ if isset .Site.Params "busuanzi" }}
<!-- 不蒜子 -->
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!--<script async src="//cdn.busuanzi.ibruce.info/cdn/busuanzi/2.3/busuanzi.pure.mini.js"></script>-->
<!-- 不蒜子计数初始值纠正 -->
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        var int = setInterval(fixCount, 100);
        var busuanziSiteOffset = {{ .Site.Params.busuanzi_site_offset }}
        function fixCount() {
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                clearInterval(int);
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + busuanziSiteOffset);
            }
        }
    });
</script>
{{ end }}
